{% extends 'layout.html' %}
{% block head%}
  <title>Admin page</title>
  <link rel="stylesheet" href="../static/css/admin.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    section {
      background: rgb(175, 239, 255);
      padding: 20px;
      font-size: 25px;
      margin-top: 10px;
    }

    .left-header {
      background: rgb(241, 248, 145);
      padding: 20px;
      font-size: 25px;
      margin-top: 10px;
      font-size: 12px;
    }

    .right-header {
      background: rgb(152, 240, 232);
      padding: 20px;
      font-size: 25px;
      margin-top: 10px;
      font-size: 12px;
    }

    h2 {
      font-size: 30px;
      margin-top: 12px;
    }

    h3 {
      font-size: 22px;
      margin: 12px;
    }

    * {
      box-sizing: border-box;
    }

    .row {
      display: flex;
    }

    /* Create two equal columns that sits next to each other */
    .column {
      flex: 50%;
      padding: 10px;
      margin-right: 10px;
      height: 600px; /* Should be removed. Only for demonstration */
    }
    
    .bar {
      width:100%;
      overflow:hidden;
      background-color: black;
    }

    .bar-item {
      background-color: black;
      color: white;
      padding:8px 16px;
      float:left;
      width:auto;
      border:none;
      display:block;
      outline:0
    }

    .bar-item:hover {
      background-color: cornsilk;
      color: black;
    }

    .active-item {
      color:#fff!important;
      background-color:#1aa030!important;
    }

    .active-item:hover {
      color: black!important;
      background-color:cornsilk!important;
    }

    .users-container {
      background-color: rgb(233, 233, 233);
      padding:0.01em 16px
    }

    .card {
      /* Add shadows to create the "card" effect */
      box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
      transition: 0.3s;
      margin: 12px;
      border-radius: 4px;
      background-color: white;
    }

    /* On mouse-over, add a deeper shadow */
    .card:hover {
      box-shadow: 0 8px 16px 0 rgba(0,0,0,0.25);
    }

    /* Add some padding inside the card container */
    .card-container {
      padding: 8px 12px;
      font-size: 12px;
      background-color: white;
      border-radius: 4px;
    }

    .grid-container {
      display: grid;
      grid-template-columns: auto;
      padding: 12px;
    }

    .client-info-grid {
      display: grid;
      grid-template-columns: auto auto;
      padding: 12px;
    }

    .client-grid-item {
      font-size: 12px;
      margin-top: 12px;
      margin-right: 12px;
    }

    .rec-grid-container {
      display: grid;
      grid-template-columns: auto auto;
      padding: 12px;
    }
  </style>
{% endblock %}

{% block content %}
<body>
    <div class="row">
        <div class="column">
            <div class="left-header">
                <h2>All users</h2>
                <p>View and match users</p>
            </div>
            <div class="bar">
              <button class="bar-item button tablink active-item" onclick="openTab(event,'unmatched')">Unmatched</button>
              <button class="bar-item button tablink" onclick="openTab(event,'matched')">Matched</button>
            </div>
            <div id="unmatched" class="users-container">
              <div class="grid-container">
                <h3>Unmatched</h3>
                {% for client in unmatched %}
                <div class="card">
                  <div class="card-container">
                    <p><b>{{client.email_id}}</b></p>
                    <div class="client-info-grid">
                      <div class="client-grid-item">Timezone: {{client.timezone}}</div>
                      <div class="client-grid-item">Class year: {{client.year}}</div>
                      <div class="client-grid-item">Major(s)/minor(s): {{client.major_minor}}</div>
                      <div class="client-grid-item">Classes: {{client.classes}}</div>
                      <div class="client-grid-item">Partner request: {{client.partner_request}}</div>
                      <div class="client-grid-item">Priorities: {{client.priorities}}</div>
                      <div class="client-grid-item">Aim: {{client.aim}}</div>
                    </div>
                  </div>
                </div>
                {% endfor %}
              </div>
            </div>
            <div id="matched" class="users-container" style="display:none">
              <div class="grid-container">
              <h3>Matched</h3>
              {% for client in matched %}
                <div class="card">
                  <div class="card-container">
                    <p><b>{{client.email_id}}</b></p>
                    <div class="client-info-grid">
                      <div class="client-grid-item">Timezone: {{client.timezone}}</div>
                      <div class="client-grid-item">Class year: {{client.year}}</div>
                      <div class="client-grid-item">Major(s)/minor(s): {{client.major_minor}}</div>
                      <div class="client-grid-item">Classes: {{client.classes}}</div>
                      <div class="client-grid-item">Partner request: {{client.partner_request}}</div>
                      <div class="client-grid-item">Priorities: {{client.priorities}}</div>
                      <div class="client-grid-item">Aim: {{client.aim}}</div>
                    </div>
                  </div>
                </div>
                {% endfor %}
            </div>
          </div>
        </div>
        <div class="column">
          <div class="right-header">
            <h2>Recommended pairings</h2>
            <p>Confirm or reject recommended pairings</p>
            <button>Generate pairs</button>
            <div class="rec-grid-container">
              <div class="card">
                <div class="card-container">
                  <p><b>Client email</b></p>
                  <div class="client-grid-item">Timezone: </div>
                  <div class="client-grid-item">Class year: </div>
                  <div class="client-grid-item">Major(s)/minor(s): </div>
                  <div class="client-grid-item">Classes: </div>
                  <div class="client-grid-item">Partner request: </div>
                  <div class="client-grid-item">Priorities: </div>
                  <div class="client-grid-item">Aim: </div>
                </div>
              </div>
              <div class="card">
                <div class="card-container">
                  <p><b>Client email</b></p>
                  <div class="client-grid-item">Timezone: </div>
                  <div class="client-grid-item">Class year: </div>
                  <div class="client-grid-item">Major(s)/minor(s): </div>
                  <div class="client-grid-item">Classes: </div>
                  <div class="client-grid-item">Partner request: </div>
                  <div class="client-grid-item">Priorities: </div>
                  <div class="client-grid-item">Aim: </div>
                </div>
              </div>
            </div>
        </div>
      </div>
    </div>
    <script>
      function openTab(evt, tabName) {
        var i, x, tablinks;
        x = document.getElementsByClassName("users-container");
        for (i = 0; i < x.length; i++) {
          x[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("tablink");
        for (i = 0; i < x.length; i++) {
          tablinks[i].className = tablinks[i].className.replace(" active-item", "");
        }
        document.getElementById(tabName).style.display = "block";
        evt.currentTarget.className += " active-item";
      }
    </script>
</body>
{% endblock %}
